<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wedgie Vault - Billion Video Archive</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.7.0/ethers.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Syncopate:wght@400;700&family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --neon-pink: #ff00ff;
            --neon-purple: #9d174d;
            --deep-black: #050505;
        }

        body {
            background-color: var(--deep-black);
            color: #ffffff;
            font-family: 'Space Grotesk', sans-serif;
            overflow-x: hidden;
        }

       .neon-text {
            color: var(--neon-pink);
            text-shadow: 0 0 5px var(--neon-pink), 0 0 15px var(--neon-pink);
        }

       .neon-border {
            border: 2px solid var(--neon-pink);
            box-shadow: 0 0 10px var(--neon-pink), inset 0 0 5px var(--neon-pink);
        }

       .video-card {
            background: rgba(20, 20, 20, 0.8);
            border: 1px solid #333;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
        }

       .video-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: var(--neon-pink);
            box-shadow: 0 10px 30px rgba(255, 0, 255, 0.2);
        }

       .btn-premium {
            background: linear-gradient(45deg, var(--neon-pink), var(--neon-purple));
            transition: 0.3s;
        }

       .btn-premium:hover {
            filter: brightness(1.2);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 0, 255, 0.4);
        }

        #video-modal {
            display: none;
            backdrop-filter: blur(15px);
            background: rgba(0,0,0,0.9);
        }

       .nerd-alert {
            font-family: 'Courier New', Courier, monospace;
            background: #00ff00;
            color: black;
            padding: 2px 5px;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #111; }
        ::-webkit-scrollbar-thumb { background: var(--neon-pink); }
    </style>
</head>
<body class="antialiased">

    <nav class="fixed top-0 w-full z-50 p-6 flex justify-between items-center bg-black/50 backdrop-blur-lg border-b border-white/10">
        <h1 class="text-3xl font-bold tracking-tighter neon-text" style="font-family: 'Syncopate';">WEDGIE.VAULT</h1>
        
        <div class="flex items-center gap-6">
            <span id="status-text" class="text-xs text-gray-500 uppercase tracking-widest hidden md:block">System Status: <span class="text-green-500">Online</span></span>
            <button id="connect-wallet" class="neon-border px-8 py-2 rounded-full text-xs font-bold hover:bg-pink-600 transition-all">
                CONNECT WALLET
            </button>
        </div>
    </nav>

    <section class="pt-40 pb-20 px-6 text-center">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-6xl md:text-8xl font-bold mb-6 italic leading-none">1 BILLION <br><span class="neon-text">Hanging Wedgies</span></h2>
            <p class="text-xl text-gray-400 mb-10 max-w-2xl mx-auto">The most extensive, high-fidelity archive of nerd-justice on the blockchain. Pay per play, or own the collection.</p>
            
            <div class="flex flex-wrap justify-center gap-4">
                <button onclick="scrollToContent()" class="btn-premium px-10 py-4 rounded-md font-bold text-lg">ENTER ARCHIVE</button>
                <button onclick="triggerNerdVoice('Oh, hi. I didnt see you there. I was busy indexing the billionth video. Try not to break anything.')" class="bg-transparent border border-gray-700 px-10 py-4 rounded-md font-bold text-lg hover:border-white transition">TALK TO ARCHIVIST</button>
            </div>
        </div>
    </section>

    <main id="archive-grid" class="max-w-7xl mx-auto py-20 px-6">
        <div class="flex justify-between items-center mb-12 border-b border-gray-800 pb-6">
            <h3 class="text-2xl font-bold">Latest Uploads <span class="text-sm font-light text-gray-600 ml-4">1,000,000,000+ Assets Total</span></h3>
            <div class="flex gap-4">
                <span class="text-xs p-2 bg-gray-900 rounded">Sort: Nerd Intensity</span>
                <span class="text-xs p-2 bg-gray-900 rounded text-pink-500">Live Fees: 0.001 ETH</span>
            </div>
        </div>

        <div id="video-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            </div>

        <div id="loading" class="text-center py-20">
            <div class="inline-block animate-bounce text-pink-500">‚ñº</div>
            <p class="text-gray-500 text-sm mt-4">Loading more from the petabyte arrays...</p>
        </div>
    </main>

    <div id="video-modal" class="fixed inset-0 z- flex items-center justify-center p-6">
        <div class="absolute inset-0 bg-black/90" onclick="closePlayer()"></div>
        
        <div class="relative w-full max-w-5xl bg-zinc-900 rounded-2xl overflow-hidden shadow-2xl border border-white/10">
            <button class="absolute top-4 right-4 z-50 text-3xl hover:text-pink-500" onclick="closePlayer()">&times;</button>
            
            <div class="aspect-video bg-black relative">
                <video id="player" class="w-full h-full" controls preload="auto">
                    <source src="" type="video/mp4">
                </video>
                
                <div id="payment-gate" class="absolute inset-0 bg-black/95 flex flex-col items-center justify-center text-center p-8">
                    <div class="w-20 h-20 mb-6 neon-border rounded-full flex items-center justify-center text-4xl">üîê</div>
                    <h4 class="text-4xl font-bold mb-4">Content Locked</h4>
                    <p class="text-gray-400 mb-8 max-w-md italic">This video requires a micro-payment of 0.001 ETH. Payment is sent directly to the creator's secure vault.</p>
                    
                    <button id="pay-button" class="btn-premium px-12 py-5 rounded-full text-xl font-bold shadow-lg shadow-pink-500/20">
                        PAY 0.001 ETH TO UNLOCK
                    </button>
                    
                    <p class="mt-6 text-xs text-gray-600">Treasury: 0x02f93...cBb</p>
                </div>
            </div>

            <div class="p-8">
                <h5 id="video-title" class="text-2xl font-bold mb-2">Video Title</h5>
                <p class="text-gray-500 text-sm">Uploaded: 2 minutes ago ‚Ä¢ Duration: 04:20 ‚Ä¢ Quality: 4K</p>
            </div>
        </div>
    </div>

    <footer class="p-20 text-center border-t border-gray-900 bg-zinc-950">
        <p class="text-sm text-gray-600 mb-8">Decentralized Niche Media Architecture &copy; 2026</p>
        <div class="flex justify-center gap-10 opacity-20 filter grayscale">
            <span class="text-xs">SOLA VOD v4.2</span>
            <span class="text-xs">CDN ORIGIN: US-EAST-1</span>
            <span class="text-xs">IPFS GATEWAY READY</span>
        </div>
    </footer>

    <script>
        // --- Platform Configuration ---
        const TREASURY_ADDRESS = "0x02f93c7547309ca50EEAB446DaEBE8ce8E694cBb";
        const ADMIN_WALLET = "0x02f93c7547309ca50EEAB446DaEBE8ce8E694cBb";
        const FEE_AMOUNT = "0.001"; // ETH
        const ELEVEN_LABS_VOICE_ID = "pNInz6obpgDQGcFmaJgB"; // "Adam" - The Nerd-fit voice
        const API_KEY = ""; // User-provided ElevenLabs Key

        let provider, signer, userAddress;
        let isConnected = false;

        // --- Data Mock for Billion Videos ---
        const videoLibrary =;

        // --- Core Functions ---
        function initGrid() {
            const container = document.getElementById('video-container');
            videoLibrary.forEach(v => {
                const card = document.createElement('div');
                card.className = "video-card rounded-xl overflow-hidden group";
                card.onclick = () => openPlayer(v);
                card.innerHTML = `
                    <div class="relative aspect-video">
                        <img src="${v.thumb}" class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition duration-500">
                        <div class="absolute inset-0 bg-black/40 group-hover:bg-transparent transition flex items-center justify-center">
                            <div class="w-12 h-12 rounded-full border border-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition translate-y-4 group-hover:translate-y-0">‚ñ∂</div>
                        </div>
                    </div>
                    <div class="p-4 border-t border-white/5">
                        <span class="text-[10px] uppercase tracking-widest text-pink-500 mb-1 block">Premium Content</span>
                        <h4 class="font-bold truncate">${v.title}</h4>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        async function connectWallet() {
            if (window.ethereum) {
                try {
                    provider = new ethers.BrowserProvider(window.ethereum);
                    const accounts = await provider.send("eth_requestAccounts",);
                    signer = await provider.getSigner();
                    userAddress = accounts;
                    isConnected = true;
                    
                    document.getElementById('connect-wallet').innerText = `${userAddress.substring(0,6)}...${userAddress.substring(38)}`;
                    document.getElementById('connect-wallet').classList.add('bg-pink-600');
                    
                    // Voice Greeting
                    if (userAddress.toLowerCase() === ADMIN_WALLET.toLowerCase()) {
                        triggerNerdVoice("Oh. Master. You're back. I've opened all billion videos for you. No payment necessary, obviously.");
                    } else {
                        triggerNerdVoice("Wallet connected. Don't think that gives you free access. You still have to pay up.");
                    }
                } catch (e) { console.error(e); }
            } else { alert("MetaMask not found!"); }
        }

        async function triggerNerdVoice(text) {
            console.log("Archivist says:", text);
            if (!API_KEY) return;
            
            try {
                const response = await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${ELEVEN_LABS_VOICE_ID}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json', 'xi-api-key': API_KEY },
                    body: JSON.stringify({
                        text: text,
                        model_id: "eleven_monolingual_v1",
                        voice_settings: { stability: 0.5, similarity_boost: 0.75 }
                    })
                });
                const blob = await response.blob();
                const url = URL.createObjectURL(blob);
                const audio = new Audio(url);
                audio.play();
            } catch (err) { console.warn("TTS Error (Check API Key):", err); }
        }

        function openPlayer(video) {
            const modal = document.getElementById('video-modal');
            const player = document.getElementById('player');
            const gate = document.getElementById('payment-gate');
            
            document.getElementById('video-title').innerText = video.title;
            player.src = video.src;
            modal.style.display = 'flex';
            
            // Logic for Admin Bypass
            if (isConnected && userAddress.toLowerCase() === ADMIN_WALLET.toLowerCase()) {
                gate.style.display = 'none';
                player.play();
            } else {
                gate.style.display = 'flex';
                player.pause();
                triggerNerdVoice("Password? No. Crypto? Yes. 0.001 ETH please. Dont be a cheapskate.");
            }
        }

        async function handlePayment() {
            if (!isConnected) { await connectWallet(); return; }
            
            try {
                triggerNerdVoice("Signing request initiated. Watch the gas fees... not that you have a choice.");
                const tx = await signer.sendTransaction({
                    to: TREASURY_ADDRESS,
                    value: ethers.parseEther(FEE_AMOUNT)
                });
                
                document.getElementById('pay-button').innerText = "MINING TRANSACTION...";
                await tx.wait();
                
                document.getElementById('payment-gate').style.display = 'none';
                document.getElementById('player').play();
                triggerNerdVoice("Transaction mined. Block height updated. You can watch your silly little video now.");
            } catch (e) {
                triggerNerdVoice("Transaction failed? Did you run out of money? Pathetic.");
                console.error(e);
            }
        }

        function closePlayer() {
            document.getElementById('video-modal').style.display = 'none';
            document.getElementById('player').pause();
        }

        function scrollToContent() {
            document.getElementById('archive-grid').scrollIntoView({ behavior: 'smooth' });
        }

        // --- Listeners ---
        document.getElementById('connect-wallet').onclick = connectWallet;
        document.getElementById('pay-button').onclick = handlePayment;
        
        window.onload = initGrid;
    </script>
</body>
</html>
